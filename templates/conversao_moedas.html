<!-- core/conversao_moedas.html -->
{% load static %}
<html>
<head>
    <link rel="stylesheet" href="{% static 'styles.css' %}">
</head>
<body>
    <h1>Conversor de Moedas</h1>

    <form method="GET">
        <label for="moeda_origem">Moeda de Origem:</label>
        <select name="moeda_origem" id="moeda_origem">
            {% for codigo, nome in moedas %}
                <option value="{{ codigo }}" {% if codigo == moeda_origem %}selected{% endif %}>
                    {{ nome }} ({{ codigo }})
                </option>
            {% endfor %}
        </select>

        <label for="moeda_destino">Moeda de Destino:</label>
        <select name="moeda_destino" id="moeda_destino">
            {% for codigo, nome in moedas %}
                <option value="{{ codigo }}" {% if codigo == moeda_destino %}selected{% endif %}>
                    {{ nome }} ({{ codigo }})
                </option>
            {% endfor %}
        </select>

        <label for="valor">Valor:</label>
        <input type="number" step="0.01" name="valor" value="{{ valor }}">

        <button type="submit">Converter</button>
    </form>

    {% if valor_convertido %}
        <h2>Resultado:</h2>
        <p>{{ valor|floatformat:2 }} {{ moeda_origem }} = {{ valor_convertido|floatformat:2 }} {{ moeda_destino }}</p>
        <p>Taxa de CÃ¢mbio: 1 {{ moeda_origem }} = {{ taxa_cambio|floatformat:2 }} {{ moeda_destino }}</p>
    {% endif %}
</body>
</html>
